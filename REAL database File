
-- ****** Object: Database 'CougarSearch' ********--
USE Master
IF DB_ID('Cougar_Search') IS NOT NULL 
	DROP DATABASE Cougar_Search
GO

CREATE DATABASE Cougar_Search
GO 

USE Cougar_Search
GO

--********Object: Table 'Admin' ********--


CREATE TABLE Admin (
	UserName VARCHAR(25) PRIMARY KEY NOT NULL,
	PASSWORD VARCHAR(25) NOT NULL,
	
);

CREATE TABLE CougarUser (
	UserName varchar(25)  PRIMARY KEY NOT NULL,
	PASSWORD varchar(25) NOT NULL,
	email varchar(25) UNIQUE NOT NULL,
	phoneNum varchar(13) UNIQUE NOT NULL,
	Photo VARCHAR(20) NOT NULL,
	OwnDogID INT FOREIGN KEY REFERENCES dbo.DogProfile(ListingID ) NOT NULL
);

CREATE TABLE Moderator (
	UserName varchar(25) PRIMARY KEY NOT NULL,
	password varchar(25) NOT NULL
);

Create table DogProfile (
	ListingID INT PRIMARY KEY,
	Name VARCHAR(25) NOT NULL,
	Description varchar(120) NOT NULL,
	Breed VARCHAR(20) NOT NULL,
	Age INT NOT NULL,
	Photo VARCHAR(20) NOT NULL,
	DatePosted DATETIME NOT NULL,
	userName VARCHAR(25) FOREIGN KEY REFERENCES dbo.CougarUser(UserName) NOT NULL
);

Create table Administrator (
	UserName varchar(25) PRIMARY KEY NOT NULL,
	password varchar(25) NOT NULL
);

CREATE TABLE `test`.`pic` ( 
`idpic` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT, 
`caption` VARCHAR(45) NOT NULL, 
`img` LONGBLOB NOT NULL, 
PRIMARY KEY(`idpic`) 
)

